!function(){"use strict";if(window.MainSharesNavigation)return!1;window.MainSharesNavigation=function(){this.active=!1,this.component={path:null,template:null,parameters:{}},this.navigation={id:null,current:1,count:1},this.container={root:null,items:null,button:null}},MainSharesNavigation.prototype={init:function(t){return this.setParameters(t),!!this.checkParameters()&&(!!this.setContainers()&&(this.configure(),void this.bindAction()))},setParameters:function(t){return!intec.isEmpty(t)&&(!intec.isEmpty(t.component)&&(!intec.isEmpty(t.navigation)&&(!intec.isEmpty(t.container)&&(intec.isEmpty(t.component.path)||(this.component.path=t.component.path),intec.isEmpty(t.component.template)||(this.component.template=t.component.template),intec.isEmpty(t.component.parameters)||(this.component.parameters=t.component.parameters),intec.isEmpty(t.navigation.id)||(this.navigation.id=t.navigation.id),intec.isEmpty(t.navigation.current)||(this.navigation.current=t.navigation.current),intec.isEmpty(t.navigation.count)||(this.navigation.count=t.navigation.count),intec.isEmpty(t.container.root)||(this.container.root=t.container.root),intec.isEmpty(t.container.items)||(this.container.items=t.container.items),void(intec.isEmpty(t.container.button)||(this.container.button=t.container.button))))))},checkParameters:function(){for(let t in this.component)if(intec.isEmpty(this.component[t]))return!1;for(let t in this.container)if(intec.isEmpty(this.container[t]))return!1;if(!intec.isEmpty(this.navigation.id))return this.navigation.current<this.navigation.count},setContainers:function(){return this.container.root=document.querySelector(this.container.root),null!==this.container.root&&(this.container.items=this.container.root.querySelector(this.container.items),null!==this.container.items&&(this.container.button=this.container.root.querySelector(this.container.button),null!==this.container.button))},isActive:function(){return this.active=this.navigation.current<this.navigation.count,this.active},buttonSetState:function(t){this.container.button.setAttribute("data-state",t)},buttonIsActive:function(){return"active"===this.container.button.getAttribute("data-state")},itemsSetState:function(t){this.container.items.setAttribute("data-state",t)},configure:function(){this.isActive()?this.buttonSetState("active"):this.buttonSetState("disabled"),this.itemsSetState("none")},bindAction:function(){this.container.button.addEventListener("click",BX.delegate(function(){this.actionClick()},this))},setUrl:function(){let t;return t=this.navigation.current+1,this.component.path+"?"+this.navigation.id+"=page-"+t},actionClick:function(){if(!this.active||!this.buttonIsActive())return!1;this.buttonSetState("processing"),this.itemsSetState("processing"),BX.ajax({url:this.setUrl(),method:"POST",dataType:"json",timeout:60,cache:!0,data:{action:"navigation",template:this.component.template,parameters:this.component.parameters},onsuccess:BX.delegate(function(t){this.actionSuccess(t),this.configure()},this),onfailure:BX.delegate(function(){this.configure()},this)})},actionSuccess:function(t){null!==t.items&&(this.container.items.insertAdjacentHTML("beforeend",t.items),this.navigation.current++)}}}();